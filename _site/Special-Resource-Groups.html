<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Special Resource Groups | vcl</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Special Resource Groups" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Documentation for the Apache VCL (Virtual Computing Lab) project" />
<meta property="og:description" content="Documentation for the Apache VCL (Virtual Computing Lab) project" />
<link rel="canonical" href="http://localhost:4000/Special-Resource-Groups.html" />
<meta property="og:url" content="http://localhost:4000/Special-Resource-Groups.html" />
<meta property="og:site_name" content="vcl" />
<script type="application/ld+json">
{"url":"http://localhost:4000/Special-Resource-Groups.html","headline":"Special Resource Groups","description":"Documentation for the Apache VCL (Virtual Computing Lab) project","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=f4bf3c3b5b56dec6dd9d402b33f90ad6113cbbaf">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">

      <h1><a href="http://localhost:4000/">Special Resource Groups</a></h1> 


      <h2 id="overview">Overview</h2>
<p>There are a few special resource groups of which VCL admins need to be aware that are related to creation and deployment of new images. When a new image is created, VCL needs a way to know where that image can be deployed. There are 2 sets of parallel image groups and computer groups - one for bare metal images and one for virtual images. There is no longer a technical need for having separate groups for bare metal vs virtual, but they both still exist for historical reasons. They will likely be combined in a future release of VCL.</p>

<h2 id="computer-groups">Computer Groups</h2>
<p>There are two special computer groups: newimages and newvmimages. VCL admins should assign computers to these groups that can be used for testing out newly created images. There does not need to be anything special about the computers, but computers that do have something special about them (i.e. set aside for a special project) should not be included in these groups. These computer groups must be mapped to a management node group that contains a management node that is able to control the computers in the groups. The special user group manageNewImages is the owning user group of these computer groups. Though possible, it is best to leave that unchanged.</p>

<h2 id="image-groups">Image Groups</h2>
<p>The image groups are a little different. These groups are created as needed whenever users create their first image. The groups include the user’s username and ID from the database user table in the name of the group. For example, the names of the image groups for the default admin account would be newimages-admin-1 and newvmimages-admin-1. Whenever someone creates a new image, the appropriate image group (bare or virtual) is created if it does not exist, the image is added to the group, the group is mapped to the appropriate computer group (newimages or newvmimages), and a privilege node is created granting the user admin access to the image group.</p>

<p>As with the special computer groups, the special user group manageNewImages is the owning user group of these image groups.</p>

<p>It is safe to delete these image groups to clean things up as long as any images assigned to them have either had the ownership changed to a different user or the images have been assigned to an image group that gives someone else administrative control of the image. If one of the image groups were to be deleted while containing an image no other user had access to control, no one would have any access to use or manage the image - this could only fixed by directly modifying the database. By default, the manageNewImages user group is granted privileges in the Privilege tree that give it admin access to all of the images in these special new images groups. Therefore, membership of the manageNewImages group should be carefully controlled.</p>

<h2 id="special-considerations">Special Considerations</h2>
<p>Images That Should Only Be Run on Certain Computers
As explained above, any new images are mapped to be run on the computers in the newimages and newvmimages computer groups. If there is an image that should only be run on a specific set of computers that are not part of the newimage or newvmimages computer groups, the image needs to be added to an image group that is mapped to the desired set of computers and removed from the image creator’s new images group so that it is no longer mapped to run on the new images computers. Only users in the manageNewImages user group have access to remove images from a user’s new images image group. Note, it is important first add the image to another image group before removing it from the image creator’s image group if the user doing the steps is not the owner so that access to control the grouping of the image is not lost.</p>

<p>If it is desired for a specific user to be able to remove his own images from his new images groups for some reason, the user can be granted manageMapping for that user’s new images groups at the user’s privilege node to grant access to see the group and able to remove images from it. For example, if a user has a special set of computers on which her images should always be run, she would always want to remove her newly created images from her special new images group and assign them to an image group mapped to the special set of computers. Then, a higher level admin would not need to be involved in the process.</p>


      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="http://github.com/pathoma4/vcl/edit/gh-pages/SpecialResourceGroups.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
